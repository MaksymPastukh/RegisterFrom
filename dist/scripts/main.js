document.addEventListener("DOMContentLoaded",(function(e){e.preventDefault();var t=document.querySelectorAll("form"),n=document.getElementById("form"),l=document.getElementById("name"),o=document.getElementById("username"),r=document.getElementById("email"),i=document.getElementById("password"),d=document.getElementById("password2"),s=document.getElementById("checkbox"),a=document.querySelector(".error-text"),c=document.querySelectorAll(".btn-ok"),u=document.querySelector(".popup"),m=document.querySelector(".popupCheck"),y=document.querySelector(".popup-btn"),p=document.querySelector(".ok"),x=document.querySelectorAll(".user-login"),b=document.querySelectorAll(".form-control"),f=document.querySelector(".main-title"),v=document.querySelector(".main-sub-title"),g=document.querySelector("#link"),E=document.querySelector("#links"),S=document.querySelector(".btnSing"),k="clients",C=localStorage.getItem(k)?JSON.parse(localStorage.getItem(k)):[];g.addEventListener("click",(function(e){e.preventDefault(),x.forEach((function(e){e.remove()})),E.textContent="Registration",f.textContent="Log in to the system",S.textContent="Sign In",E.style.cssText="\n                        display: block;\n                        width: 210px;\n                        transform: translateX(-8.5%);\n                        padding: 10px;\n                        border-radius: 40px;\n                        background: #DD3142;\n                        text-align: center;\n                        color: #FFF;\n                        border: none;\n                        font-size: 20px;\n                    ",E.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),S.addEventListener("click",(function(e){e.preventDefault();var t,l,r=C.find((function(e){return e.userName===o.value&&e.password===i.value})),d=C.find((function(e){return e.userName===o.value})),s=""!==(t=o).value&&d?(t.nextElementSibling.nextElementSibling.style.display="none",t.style.borderBottom="1px solid green",!0):(t.nextElementSibling.nextElementSibling.style.display="block",t.style.borderBottom="1px solid red",!1),a=""!==(l=i).value&&r?(l.nextElementSibling.nextElementSibling.style.display="none",l.style.borderBottom="1px solid #C6C6C4",!0):(l.nextElementSibling.nextElementSibling.style.display="block",l.style.borderBottom="1px solid red",!1);return!(!s||!a)&&(f.textContent="Welcome ".concat(r.fullName),S.textContent="Exit",v.remove(),E.remove(),b.forEach((function(e){e.remove()})),S.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),n.reset())}))})),t.forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault();var t,g,B,h,L,D=!1;if(!(""!==(t=l).value&&t.value.match(/^[a-zA-Z\s]+$/)?(t.nextElementSibling.style.display="none",t.style.borderBottom="1px solid #C6C6C4",1):(t.style.borderBottom="1px solid red",t.nextElementSibling.style.display="block",0))&&(D=!0),!(""!==(g=o).value&&g.value.match(/^[a-zA-Z0-9_-]+$/)?(g.nextElementSibling.style.display="none",g.style.borderBottom="1px solid #C6C6C4",1):(g.nextElementSibling.style.display="block",g.style.borderBottom="1px solid red",0))&&(D=!0),!(""!==(B=r).value&&B.value.match(/^[^ ]+@[^ ]+\.[a-z]{2,3}$/)?(B.nextElementSibling.style.display="none",B.style.borderBottom="1px solid #C6C6C4",1):(B.nextElementSibling.style.display="block",B.style.borderBottom="1px solid red",0))&&(D=!0),!(""!==(h=i).value&&h.value.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)?(h.nextElementSibling.style.display="none",h.style.borderBottom="1px solid #C6C6C4",1):(h.nextElementSibling.style.display="block",h.style.borderBottom="1px solid red",0))&&(D=!0),L=d,!(i.value!==L.value||""===L.value?(L.nextElementSibling.style.display="block",L.style.borderBottom="1px solid red",0):(L.nextElementSibling.style.display="none",L.style.borderBottom="1px solid #C6C6C4",1))&&(D=!0),s.checked?a.style.color="#636363":a.style.color="red",C.some((function(e){return e.email===r.value||e.userName===o.value})))m.style.display="block",document.body.style.overflow="hidden",n.reset(),p.addEventListener("click",(function(){m.style.display="none",document.body.style.overflow=""})),m.addEventListener("click",(function(e){e.target===m&&(m.style.display="none",document.body.style.overflow="")})),c.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),x.forEach((function(e){e.remove()})),E.textContent="Registration",f.textContent="Log in to the system",S.textContent="Sign In",E.style.cssText="\n                        display: block;\n                        width: 210px;\n                        transform: translateX(-8.5%);\n                        padding: 10px;\n                        border-radius: 40px;\n                        background: #DD3142;\n                        text-align: center;\n                        color: #FFF;\n                        border: none;\n                        font-size: 20px;\n                    ",E.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),S.addEventListener("click",(function(e){e.preventDefault();var t=C.find((function(e){return e.userName===o.value&&e.password===i.value})),l=C.find((function(e){return e.userName===o.value})),r=function(e){return""!==e.value&&l?(e.nextElementSibling.nextElementSibling.style.display="none",e.style.borderBottom="1px solid green",!0):(e.nextElementSibling.nextElementSibling.style.display="block",e.style.borderBottom="1px solid red",!1)}(o),d=function(e){return""!==e.value&&t?(e.nextElementSibling.nextElementSibling.style.display="none",e.style.borderBottom="1px solid #C6C6C4",!0):(e.nextElementSibling.nextElementSibling.style.display="block",e.style.borderBottom="1px solid red",!1)}(i);return!(!r||!d)&&(f.textContent="Welcome ".concat(t.fullName),S.textContent="Exit",v.remove(),E.remove(),b.forEach((function(e){e.remove()})),S.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),n.reset())}))}))}));else if(!D){if(!s.checked)return void(a.style.color="red");var w={fullName:l.value,userName:o.value,email:r.value,password:i.value,confirmPassword:d.value};C.push(w),localStorage.setItem(k,JSON.stringify(C)),a.style.color="#636363",u.style.display="block",document.body.style.overflow="hidden",n.reset(),y.addEventListener("click",(function(){u.style.display="none",document.body.style.overflow=""})),u.addEventListener("click",(function(e){e.target===u&&(u.style.display="none",document.body.style.overflow="")})),c.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),x.forEach((function(e){e.remove()})),E.textContent="Registration",f.textContent="Log in to the system",S.textContent="Sign In",E.style.cssText="\n                                                    display: block;\n                                                    width: 210px;\n                                                    transform: translateX(-8.5%);\n                                                    padding: 10px;\n                                                    border-radius: 40px;\n                                                    background: #DD3142;\n                                                    text-align: center;\n                                                    color: #FFF;\n                                                    border: none;\n                                                    font-size: 20px;\n                                                ",E.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),S.addEventListener("click",(function(e){e.preventDefault();var t=C.find((function(e){return e.userName===o.value&&e.password===i.value})),l=C.find((function(e){return e.userName===o.value})),r=function(e){return""!==e.value&&l?(e.nextElementSibling.nextElementSibling.style.display="none",e.style.borderBottom="1px solid green",!0):(e.nextElementSibling.nextElementSibling.style.display="block",e.style.borderBottom="1px solid red",!1)}(o),d=function(e){return""!==e.value&&t?(e.nextElementSibling.nextElementSibling.style.display="none",e.style.borderBottom="1px solid #C6C6C4",!0):(e.nextElementSibling.nextElementSibling.style.display="block",e.style.borderBottom="1px solid red",!1)}(i);return!(!r||!d)&&(f.textContent="Welcome ".concat(t.fullName),S.textContent="Exit",v.remove(),E.remove(),b.forEach((function(e){e.remove()})),S.addEventListener("click",(function(e){e.preventDefault(),location.reload()})),n.reset())}))}))}))}}))}))}));